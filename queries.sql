1.CREATE DATABASE MEDICAPS;

2.USE MEDICAPS;

3.CREATE TABLE FACULTY(FID CHAR(10) PRIMARY KEY, FNAME VARCHAR(50) NOT NULL);

4.INSERT INTO FACULTY VALUES
('F01','Engineering'),
('F02','Management studies'),
('F03','commerce'),
('F04','Agriculture'),
('F05','science'),
('F06','Arts and Humanities'),
('F07','Pharmacy'),
('F08','Law');

5.SELECT * FROM FACULTY;

6.CREATE TABLE DEPT(FID CHAR(10) NOT NULL,DEPTID CHAR(10) PRIMARY KEY,DEPTNAME VARCHAR(50) NOT NULL,FOREIGN KEY(FID) REFERENCES FACULTY(FID));

7.INSERT INTO DEPT VALUES
('F01','D01','COMPUTER SCIENCE AND ENGINEERING'),
('F01','D02','INFORMATION TECHNOLOGY'),
('F01','D03','MECHANICAL ENGINEERING'),
('F01','D04','ELECTRONICS ENGINEERING'),
('F01','D05','CIVIL ENGINEERING'),
('F01','D06','ELECTRICAL ENGINEERING'),
('F01','D07','COMPUTER APPLICATION'),
('F02','D08','MANAGEMENT'),
('F03','D09','COMMERCE'),
('F04','D10','AGRICULTURE');
('F05','D11','PHYSICS'),
('F05','D12','CHEMISTRY'),
('F05','D13','MATHEMATICS'),
('F05','D14','COMPUTER SCIENCE'),
('F05','D15','FORENSIC SCIENCE'),
('F05','D16','BIOTECHNOLOGY'),
('F07','D17','PHARMACY'),
('F06','D18','LANGUAGE'),
('F08','D19','LAW');

8.SELECT * FROM DEPT;

9.CREATE TABLE EMPLOYEE (FID CHAR(10), DEPTID CHAR(10),EMPID CHAR(10) PRIMARY KEY,EMPNAME VARCHAR(50) NOT NULL,DESIGNATION VARCHAR(50) NOT NULL,PASSWORD VARCHAR(50) NOT NULL,EMAIL VARCHAR(50) UNIQUE NOT NULL,MOBILENO BIGINT  UNIQUE NOT NULL,FOREIGN KEY(FID) REFERENCES FACULTY(FID),FOREIGN KEY(DEPTID) REFERENCES DEPT(DEPTID));

10.INSERT INTO EMPLOYEE VALUES
('F01','D01','E01','A','ASSISTANT PROFESSOR','1','A@XYZ.COM',1234567890),
('F01','D02','E02','B','ASSISTANT PROFESSOR','12','B@XYZ.COM',2134567890),('F01','D01','E03','C','PROFESSOR','123','C@GMAIL.COM',3124567890),
('F01','D03','E04','D','PROFESSOR','120','D@XYZ.COM',2134067890),
('F01','D04','E05','E','HOD','12','E@XYZ.COM',2134567870),
('F01','D05','E06','F','DEAN','2','F@XYZ.COM',7134567890),
('F01','D06','E07','G','ASSISTANT PROFESSOR','12','G@XYZ.COM',2178567890),
('F01','D07','E08','H','ASSISTANT PROFESSOR','78','H@XYZ.COM',718567890),



('F05','D11','E19','R','ASSISTANT PROFESSOR','4569','R@XYZ.COM',7123552290),
('F05','D12','E20','S','ASSISTANT PROFESSOR','1000','S@XYZ.COM',7180062290),
('F05','D13','E21','T','PROFESSOR','666','T@XYZ.COM',7184500290),
('F05','D14','E22','U','PROFESSOR','7555','U@XYZ.COM',7184000090),
('F05','D15','E23','V','HOD','0004','V@XYZ.COM',7044562290),
('F01','D16','E24','W','DEAN','3338','W@XYZ.COM',7184563310);



11.CREATE TABLE NOTESHEET(NOTEID INTEGER PRIMARY KEY AUTO_INCREMENT,FID CHAR(10),DEPTID CHAR(10),EMPID CHAR(10),SUBJECT VARCHAR(4000) NOT NULL,DETAILS VARCHAR(4000) NOT NULL,DATE DATE NOT NULL,TIME TIME NOT NULL,FOREIGN KEY(FID) REFERENCES FACULTY(FID),FOREIGN KEY(DEPTID) REFERENCES DEPT(DEPTID),FOREIGN KEY(EMPID) REFERENCES EMPLOYEE(EMPID));

12.INSERT INTO NOTESHEET(FID,DEPTID,EMPID,SUBJECT,DETAILS,DATE,TIME) VALUES('F01','D01','E01','DUMMY1','DUMMY',CURDATE(),CURTIME());


13. CREATE TABLE APPROVED(SNO INTEGER PRIMARY KEY AUTO_INCREMENT,NOTEID INTEGER NOT NULL,APROVEDBY CHAR(10) NOT NULL,DATE DATE NOT NULL,TIME TIME NOT NULL);

14. INSERT INTO APPROVED(NOTEID,APROVEDBY,DATE,TIME) VALUES(1,'E05',CURDATE(),CURTIME()),(1,'E06',CURDATE(),CURTIME())

FACULTY 
FID- char(3) primary key
FNAME-varchar(50)

DEPT
FID- char(3) foreign key
DEPTID- char(3) primary key
DEPTNAME- varchar(50) not null

EMPLOYEE
FID-char(3) foreign key
DEPTID- char(3) foreign key
EMPID- char(3) primary key
EMPNAME- varchar(50) not null
EMAIL- varchar(50) not null
MOBILE- integer NOT NULL
designation- varchar(50) not null
password-varchar(50) not null

NOTESHEET
noteid- integer primary key
FID-char(3) foreign key
DEPTID- char(3) foreign key
EMPID- char(3) foreign key
subject- varchar(4000) not null
details- varchar(4000) not null
dateandtime- datetime
remarks- varchar(4000) not null
APPROVEDBYHOD VARCHAR(50)
APPROVEDBYDEAN VARCHAR(50)
APPROVEDBYPVC VARCHAR(50)
APPROVEDBYOSD VARCHAR(50)
APPROVEDBYVC VARCHAR(50)


SELECT NOTEID FROM NOTESHEET N, APPROVED A WHERE A.NOTEID=N.NOTEID;



STATUS QUERY: SELECT A.NOTEID,A.APROVEDBY,E.DESIGNATION,
CASE
WHEN E.DESIGNATION='HOD' THEN 'PENDING'
WHEN E.DESIGNATION='DEAN' THEN 'PENDING'
WHEN E.DESIGNATION='PROVC' THEN 'PENDING'
WHEN E.DESIGNATION='OSD' THEN 'PENDING'
WHEN E.DESIGNATION='VC' THEN 'APPROVED'
END
AS STATUS FROM APPROVED A,EMPLOYEE E WHERE E.EMPID=A.APROVEDBY;


SELECT A.NOTEID,A.APROVEDBY,E.DESIGNATION,CASE WHEN E.DESIGNATION='HOD' THEN 'PENDING' WHEN E.DESIGNATION='DEAN' THEN 'PENDING' WHEN E.DESIGNATION='PROVC' THEN 'PENDING' WHEN E.DESIGNATION='OSD' THEN 'PENDING' WHEN E.DESIGNATION='VC' THEN 'APPROVED' END AS STATUS FROM APPROVED A,EMPLOYEE E WHERE E.EMPID=A.APROVEDBY;
